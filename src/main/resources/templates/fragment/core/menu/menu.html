<div th:replace="layout/layout :: defaultPreload"></div>
<div th:replace="layout/layout :: preload"></div>

<div class="row">
	<div class="col-md-12 col-sm-12 ">
		<div class="card">
			<div class="card-body">
				<h4 class="card-title">Administrar Menú</h4>
				<div class="row">
					<div class="col-sm-12" align="left">
						<a style="color: #000; font-weight: bold; font-size: 19px; text-decoration: none;"
							th:href="@{/profiles}"><i class="fa fa-arrow-left"></i>
							Regresar</a>
					</div>
				</div>
				<div class="row mt-5">
					<div class="col-sm-6" align="left">
						<button class="btn btn-warning " data-toggle="modal" data-target="#ModalMenu">
							<i class="fas fa-edit"></i> Nuevo Segmento
						</button>
						<button class="btn btn-primary" id="refresh" th:data-perfil="${idPerfil}"
							th:onclick="|javascript:cargaFramentMenu(this)|">
							<i class="fas fa-sync-alt"></i> Refrescar
						</button>
					</div>
				</div>
				<div class="shadow card con_card_menu mt-1">
					<div id="framentMenu"></div>
				</div>
			</div>
		</div>
	</div>
</div>


<!-- Modal -->
<div class="modal fade" id="ModalMenu" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
	aria-hidden="true">
	<form method="post" id="newSegmento">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">
						<i class="fas fa-bars"></i> Agregar segmento al menú
					</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<input type="hidden" name="idPerfil" id="idPerfil" th:value="${idPerfil}" />
					<div class="mt-3"></div>
					<label class="txt_n">Nombre</label> <input type="text" name="nuevoSegmento" id="nuevoSegmento"
						class="form-control" required="required" placeholder="Ingrese nuevo segmento " />
					<div class="mt-3"></div>
					<label class="txt_n">Orden</label> <input type="number" name="newOrden" id="newOrden"
						required="required" class="form-control">


				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
						<span class="fa fa-times"> </span> Cancelar
					</button>
					<button type="button" class="btn btn-info" onclick="saveNewSegmento()">
						<span class="fa fa-save"> </span> Guardar
					</button>
				</div>
			</div>
		</div>
	</form>
</div>

<script type="text/javascript" th:src="@{/js/menu-dinamic/menuDinamic.js}"></script>